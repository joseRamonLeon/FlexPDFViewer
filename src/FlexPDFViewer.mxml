<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   xmlns:mx="library://ns.adobe.com/flex/mx" minWidth="955" minHeight="600" backgroundColor="#B5AEAE"
			   creationComplete="init()" xmlns:views="org.pdf.views.*" xmlns:pdf="org.pdf.*" xmlns:local="*" xmlns:pdf1="com.pdf.*" xmlns:control="com.pdf.control.*" xmlns:canvas="com.pdf.canvas.*">
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>

	<fx:Script>
		<![CDATA[

			private var documentURL:String = "documents/";

			
			
			private function init():void
			{
				pdfViewer.loadFile(documentURL + documentList.selectedItem);
				pdfViewer.addEventListener(SecurityErrorEvent.SECURITY_ERROR, function(event:SecurityErrorEvent):void{});
				pdfViewer.addEventListener(IOErrorEvent.IO_ERROR, function(event:IOErrorEvent):void{});
			}
			
			protected function loadFile_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				pdfViewer.loadFile(documentURL + documentList.selectedItem);
				
			}
			
			
			protected function showFile_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				trace(pdfViewer.regionConfigContent);
			}
			
			protected function pdfViewer_unRecognizedFileTypeHandler(event:Event):void
			{
				// TODO Auto-generated method stub
				
			}
			
		]]>
	</fx:Script>

	<s:Scroller id="scroller" height="100%" width="100%">
		<s:Group width="100%" height="100%">
			<s:VGroup width="100%" height="100%" paddingBottom="50">
				<control:Control id="controls" pdfCanvas="{pdfViewer}" 
								 noOfPages="{pdfViewer.noOfPages}"
								 borderStyle="solid" 
								 borderColor="#B5AEAE"/>
				<mx:HBox width="100%">
					<s:Button id="loadFile" label="Load" click="loadFile_clickHandler(event)"/>
					<s:DropDownList id="documentList" selectedIndex="0">
						<s:ArrayCollection>
							<fx:String>doc.swf</fx:String>
							<fx:String>wiki.swf</fx:String>
						</s:ArrayCollection>
					</s:DropDownList>
					
					<s:Button id="showFile" label="ShowConfig" click="showFile_clickHandler(event)"/>
				</mx:HBox>
				<s:HGroup width="100%" height="100%" horizontalAlign="center">

						<canvas:PDFCanvas id="pdfViewer"
										  unRecognizedFileType="pdfViewer_unRecognizedFileTypeHandler(event)"/>
				
					
				</s:HGroup>
			</s:VGroup>
		</s:Group>
	</s:Scroller>
	
</s:Application>
